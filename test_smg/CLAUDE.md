# CLAUDE.md - プロジェクト開発ガイド

## プロジェクト概要
Laravel/PHPベースのブラウザRPGゲーム「test_smg」の開発プロジェクトです。
昔懐かしいCGIゲームの操作感を現代的なUIデザインで表現したシンプルなWebゲームです。

## 開発ドキュメント構成

### Development Documents フォルダー

プロジェクトの開発に関連するすべてのドキュメントが格納されています。

#### 00_project/ フォルダー
**プロジェクト基本方針・企画書**

##### 01_game_concept_requirements.md
**役割**: ゲームコンセプトと要件定義書
**参照タイミング**:
- プロジェクトの方向性を確認する時
- 新機能がゲームコンセプトに合致するか判断する時
- 要件定義を見直す時

##### 02_inception_deck.md
**役割**: プロジェクト全体の概要とビジョン
**参照タイミング**:
- プロジェクトの全体像を把握する時
- ステークホルダーとの認識合わせが必要な時
- 開発方針を再確認する時

#### 01_development_docs/ フォルダー
**開発技術仕様書**

##### 01_architecture_design_and_roles.md
**役割**: システム全体のアーキテクチャ設計書
**参照タイミング**:
- システム構成を理解する時
- 新しいコンポーネントの配置を決める時
- 責任分離の方針を確認する時

##### 02_database_design.md
**役割**: データベース設計の詳細仕様書
**参照タイミング**:
- 新しいテーブルやカラムを追加する時
- モデル間のリレーションシップを確認する時
- マイグレーションファイルを作成する時

##### 03_api_design.md
**役割**: API設計仕様書
**参照タイミング**:
- 新しいAPIエンドポイントを作成する時
- フロントエンド・バックエンド間の通信仕様を確認する時
- APIの命名規則を確認する時

##### 04_screen_transition_design.md
**役割**: 画面遷移・ユーザーフロー設計書
**参照タイミング**:
- 新しい画面を追加する時
- ユーザーの動線を設計する時
- 画面間の関係性を確認する時

##### 05_error_handling_design.md
**役割**: エラーハンドリング設計書
**参照タイミング**:
- エラー処理を実装する時
- ユーザーへのエラーメッセージを検討する時
- 例外処理の方針を確認する時

##### 06_type_and_data_structure_design.md
**役割**: データ型・構造設計書
**参照タイミング**:
- 新しいデータ構造を定義する時
- 型安全性を確保する時
- データの整合性を保つ方法を確認する時

##### 07_development_environment_setup.md
**役割**: 開発環境構築ガイド
**参照タイミング**:
- 開発環境をセットアップする時
- 新しいメンバーのオンボーディング時
- 環境依存の問題を解決する時

##### 08_test_strategy.md
**役割**: テスト戦略・方針書
**参照タイミング**:
- テストコードを書く時
- テスト方針を確認する時
- 品質保証の方法を検討する時

##### 09_frontend_design.md
**役割**: フロントエンド設計書
**参照タイミング**:
- フロントエンドコンポーネントを実装する時
- JavaScriptの構成を決める時
- 状態管理の方法を確認する時

##### 10_security_design.md
**役割**: セキュリティ設計書
**参照タイミング**:
- セキュリティ要件を確認する時
- 認証・認可を実装する時
- 脆弱性対策を検討する時

##### 11_performance_optimization.md
**役割**: パフォーマンス最適化指針
**参照タイミング**:
- パフォーマンス問題を解決する時
- 最適化戦略を検討する時
- ボトルネックを特定する時

##### 12_performance_monitoring.md
**役割**: パフォーマンス監視・計測方針
**参照タイミング**:
- 監視ツールを導入する時
- パフォーマンス指標を確認する時
- 計測方法を決める時

#### 02_design_system/ フォルダー
**デザインシステム仕様書**

##### 01_basic_design_system.md
**役割**: 基本デザインシステム定義書
**参照タイミング**:
- デザインの基本方針を確認する時
- カラーパレットや基本スタイルを適用する時
- デザインの一貫性を保つ時

##### 02_design_principles.md
**役割**: デザイン原則・思想書
**参照タイミング**:
- デザイン判断に迷った時
- UX設計の方針を確認する時
- ユーザビリティを検討する時

##### 03_component_design.md
**役割**: コンポーネント設計仕様書
**参照タイミング**:
- UIコンポーネントを作成する時
- 既存コンポーネントの使用方法を確認する時
- コンポーネントの統一性を保つ時

##### 04_animation_system.md
**役割**: アニメーションシステム仕様書
**参照タイミング**:
- アニメーションを実装する時
- ユーザー体験を向上させる時
- 動的な表現を追加する時

##### 05_layout_system.md
**役割**: レイアウトシステム仕様書
**参照タイミング**:
- レスポンシブデザインを実装する時
- グリッドシステムを使用する時
- レイアウトの統一性を保つ時

#### Notes/ フォルダー
**実装記録・メモ**

##### implemented_note.md
**役割**: 実装済み機能の詳細記録
**参照タイミング**:
- 既存機能の動作を確認する時
- 関連機能を拡張・修正する時
- バグ修正で実装内容を確認する時

##### Doc_List.md
**役割**: ドキュメント一覧・管理表
**参照タイミング**:
- 必要なドキュメントを探す時
- ドキュメント構成を確認する時
- 情報の在り処を把握する時

#### Tasks/ フォルダー
**開発タスク管理**

##### Tasks_26JUL2025.md（最新）
**役割**: 最新の開発タスクリスト
**参照タイミング**:
- 現在の開発進捗を確認する時
- 次に実装すべき機能を確認する時
- タスクの優先順位を把握する時

##### 過去のTasksファイル
**役割**: 過去の開発履歴・タスク記録
**参照タイミング**:
- 過去の実装方法を参考にする時
- 類似機能の実装履歴を確認する時
- プロジェクトの進捗履歴を振り返る時

#### その他の重要ファイル

##### Database_Design.md
**役割**: 包括的なデータベース設計書
**参照タイミング**:
- データベース全体の構造を理解する時
- リレーションシップの詳細を確認する時

##### Design_Sample.md
**役割**: Modern Light Themeの実装サンプル
**参照タイミング**:
- 具体的なデザイン実装を参考にする時
- CSS値やスタイリングを確認する時

## 開発時の基本方針

### 1. デザイン統一性
- `design_rules.md`を基準とした統一されたUI/UX
- CGIゲーム風の親しみやすい操作感
- Modern Light Themeによるモダンな見た目

### 2. データベース設計
- `database_design.md`に従った正規化されたテーブル設計
- 1ユーザー1キャラクターシステム
- スキルベースレベルシステム

### 3. 実装アプローチ
- Laravel標準機能の積極活用
- 既存機能との整合性を重視
- セキュリティとパフォーマンスの両立

### 4. ドキュメント管理
- 実装完了後は`implemented_note.md`を更新
- 新しい機能仕様は該当ドキュメントに反映
- タスク完了後はタスクファイルを更新

## よく使用するコマンド

### Lint・型チェック
```bash
# PHP構文チェック
php artisan route:list
composer dump-autoload

# フロントエンド
npm run lint
npm run build
```

### テスト実行
```bash
# PHP Unit Tests
php artisan test

# JavaScript Tests (if available)
npm test
```

### データベース
```bash
# マイグレーション実行
php artisan migrate

# シーダ実行
php artisan db:seed
```

## 重要な設計決定

1. **認証システム**: Laravel Breeze使用
2. **デザインシステム**: Modern Light Theme + CGI風UI
3. **キャラクターシステム**: 1ユーザー1キャラクター
4. **レベルシステム**: スキルベース（総スキルレベル÷10+1）
5. **インベントリ**: JSON形式のスロット管理

このドキュメントは開発進行に合わせて随時更新し、プロジェクトの最新状況を反映します。