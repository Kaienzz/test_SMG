# プロジェクト開始資料 (Inception Deck)
# test_smg (Simple Management Game)

## プロジェクト基本情報

**プロジェクト名**: test_smg (Simple Management Game)  
**作成日**: 2025年7月25日  
**版数**: Version 1.0  
**プロジェクト期間**: 2025年7月～継続中  
**プロジェクトタイプ**: AI支援個人開発プロジェクト  

---

## 1. プロジェクトビジョン

### 1.1 エレベーターピッチ

**「昔懐かしいCGIゲームの魅力を現代技術で蘇らせ、手軽に楽しめるブラウザRPGを提供する」**

- **For**: レトロゲーム愛好者・手軽なゲーム体験を求める人
- **Who**: 複雑すぎる昨今のゲームに疲れを感じている
- **The**: test_smg
- **Is**: シンプルで直感的なブラウザRPG
- **That**: サイコロによる運要素と戦略性を組み合わせた
- **Unlike**: 複雑な操作が必要な現代のゲーム
- **Our product**: 数分で理解でき、数十分楽しめる手軽さを提供

### 1.2 プロダクトボックス

```
┌─────────────────────────────────────┐
│  🎲 test_smg - Simple Management Game │
│                                     │
│  ✨ 特徴                             │
│  • サイコロによる確率的移動システム      │
│  • 直感的でシンプルな操作             │
│  • レトロCGI風 × モダンデザイン        │
│  • ブラウザで手軽にプレイ可能         │
│                                     │
│  🎯 ターゲット                       │
│  • レトロゲーム愛好者               │
│  • スキマ時間ゲーマー               │
│  • シンプルゲーム愛好者             │
│                                     │
│  🛠️ 技術                           │
│  • Laravel 12.x + PHP 8.2+         │
│  • Vanilla JavaScript              │
│  • Apple Design Guidelines準拠      │
└─────────────────────────────────────┘
```

### 1.3 NOT List - やらないことリスト

#### やらないこと（現在のスコープ外）
❌ **マルチプレイヤー機能**: プレイヤー間対戦・協力  
❌ **複雑なクエストシステム**: 多段階ストーリークエスト  
❌ **リアルタイム要素**: 時間制限・リアルタイム戦闘  
❌ **課金システム**: 有料アイテム・プレミアム機能  
❌ **3Dグラフィック**: 3D描画・アニメーション  
❌ **音声・BGM**: サウンド機能全般  
❌ **プッシュ通知**: アプリ外通知機能  
❌ **ソーシャル機能**: SNS連携・シェア機能  

#### 将来的に検討する可能性
🟡 **ランキング機能**: プレイヤーランキング表示  
🟡 **ギルドシステム**: プレイヤーグループ機能  
🟡 **イベント**: 期間限定コンテンツ  
🟡 **モバイルアプリ**: PWA・ネイティブアプリ化  

---

## 2. プロジェクトチーム構成

### 2.1 チーム体制（AI支援開発）

#### 開発体制
- **プロジェクトオーナー**: 開発者（要件定義・仕様決定）
- **開発パートナー**: Claude Code（実装支援・レビュー）
- **品質保証**: 自動テスト + 手動テスト
- **デザイン**: Apple Design Guidelines準拠

#### 役割分担
```
🧑‍💻 開発者（人間）
├── プロジェクト方針決定
├── 要件定義・仕様策定
├── UI/UXデザイン方針
├── 最終品質チェック
└── リリース判断

🤖 Claude Code（AI）
├── 実装作業支援
├── コードレビュー
├── ドキュメント作成支援
├── テストケース作成
└── リファクタリング提案
```

### 2.2 開発プロセス

#### アジャイル開発（2週間スプリント）
- **スプリント計画**: 機能優先度・工数見積もり
- **日次確認**: 進捗確認・課題共有
- **スプリントレビュー**: 完成機能デモ・フィードバック
- **振り返り**: プロセス改善・品質向上施策

#### 品質管理
- **コードレビュー**: AI支援による網羅的レビュー
- **自動テスト**: Unit/Feature/Browserテスト実行
- **静的解析**: PHPStan Level 8による品質チェック
- **セキュリティ**: Laravel Security Checkerによる脆弱性検証

---

## 3. 開発スケジュール・マイルストーン

### 3.1 プロジェクト段階

#### Phase 1: Foundation（基盤構築）- ✅ 完了
**期間**: 2025年7月15日～7月20日（5日間）  
**成果物**:
- ✅ Laravel環境構築・認証システム導入
- ✅ 基本データベース設計・マイグレーション
- ✅ 基本UI/UXデザインシステム策定
- ✅ 開発環境・ツール設定

#### Phase 2: Core Game Mechanics（コア機能）- ✅ 完了
**期間**: 2025年7月20日～7月22日（3日間）  
**成果物**:
- ✅ サイコロ移動システム実装
- ✅ 基本戦闘システム実装  
- ✅ キャラクター管理システム実装
- ✅ 場所移動・UI切り替え実装

#### Phase 3: Game Systems（ゲームシステム）- ✅ 完了
**期間**: 2025年7月22日～7月23日（2日間）  
**成果物**:
- ✅ インベントリ・アイテムシステム実装
- ✅ 装備システム実装
- ✅ スキルシステム実装
- ✅ 採集システム実装

#### Phase 4: Quality & Refinement（品質向上）- ✅ 完了
**期間**: 2025年7月23日～7月24日（2日間）  
**成果物**:
- ✅ コードレビュー・リファクタリング実施
- ✅ ドメイン駆動設計によるアーキテクチャ改善
- ✅ データベース移行・データ整合性確保
- ✅ セキュリティ・パフォーマンス改善

#### Phase 5: Documentation & Specification（仕様書整備）- 🔄 進行中
**期間**: 2025年7月25日～7月30日（6日間）  
**成果物**:
- 🔄 包括的仕様書作成（全19ドキュメント）
- ⏳ アーキテクチャドキュメント整備
- ⏳ API仕様書・データベース設計書作成
- ⏳ テスト戦略・品質保証ドキュメント作成

#### Phase 6: Advanced Features（高度機能）- ⏳ 計画中
**期間**: 2025年8月1日～8月15日（15日間）  
**計画**:
- ⏳ ショップシステム拡張
- ⏳ 新エリア・コンテンツ追加
- ⏳ UI/UXデザイン統一・改善
- ⏳ パフォーマンス最適化

### 3.2 重要マイルストーン

#### 🎯 Milestone 1: MVP完成（2025年7月22日）- ✅ 達成
- 基本ゲーム機能（移動・戦闘・キャラクター管理）完成
- 最小限のプレイ可能な状態

#### 🎯 Milestone 2: ベータ版完成（2025年7月24日）- ✅ 達成  
- 全主要機能実装完了
- 品質向上・リファクタリング完了

#### 🎯 Milestone 3: 仕様書完成（2025年7月30日）- 🔄 進行中
- 包括的ドキュメント整備完了
- 保守・拡張のための設計書完成

#### 🎯 Milestone 4: Production Ready（2025年8月15日）- ⏳ 計画中
- 本番環境対応完了
- セキュリティ・パフォーマンス最適化完了

---

## 4. 技術スタック決定理由

### 4.1 バックエンド技術選択

#### Laravel 12.x選択理由
✅ **豊富なエコシステム**: 認証・ORM・キュー等の充実  
✅ **開発効率**: Artisanコマンド・マイグレーション等の開発支援  
✅ **セキュリティ**: CSRF・XSS対策等のセキュリティ機能内蔵  
✅ **AI支援開発適合**: Claude Codeによる効果的なLaravel開発支援  
✅ **保守性**: PSR準拠・テスト可能な構造  

#### PHP 8.2+選択理由
✅ **型安全性**: 強化された型システムによる品質向上  
✅ **パフォーマンス**: JIT・OPcache等による高速化  
✅ **モダン機能**: Attributes・Named Arguments等の新機能  
✅ **長期サポート**: 安定したアップデート・セキュリティ対応  

#### SQLite (開発) / PostgreSQL (本番)選択理由
✅ **開発簡便性**: SQLiteによる簡単な開発環境構築  
✅ **本番信頼性**: PostgreSQLによる高可用性・拡張性  
✅ **データ互換性**: EloquentORMによる透過的なDB切り替え  

### 4.2 フロントエンド技術選択

#### Vanilla JavaScript選択理由
✅ **軽量性**: フレームワーク依存なしの高速動作  
✅ **シンプル性**: 複雑な状態管理不要  
✅ **保守性**: 直感的で理解しやすいコード  
✅ **互換性**: 全ブラウザでの確実な動作  

#### Blade Template選択理由
✅ **Laravel統合**: Laravelとの完全な統合  
✅ **セキュリティ**: 自動XSSエスケープ  
✅ **開発効率**: コンポーネント・継承による再利用性  
✅ **サーバーサイドレンダリング**: SEO・初期表示最適化  

#### Tailwind CSS + カスタムCSS選択理由
✅ **開発速度**: Utilityクラスによる高速UI開発  
✅ **デザイン統一**: デザインシステムとの親和性  
✅ **カスタマイズ**: ゲーム特有UI要素の柔軟な実装  
✅ **軽量化**: 未使用CSSの自動削除  

### 4.3 開発ツール選択

#### Claude Code選択理由
✅ **Laravel専門性**: Laravel開発に特化した支援機能  
✅ **高品質出力**: 設計原則に従った高品質コード生成  
✅ **包括的支援**: 実装・テスト・ドキュメント全般をカバー  
✅ **学習能力**: プロジェクト固有の要件・パターン理解  

---

## 5. リスク分析・対策

### 5.1 技術リスク

#### 🔴 高リスク

**R-1: セッション管理の複雑性**
- **リスク**: セッション・DB混在による整合性問題
- **対策**: セッション→DB完全移行済み（Phase 4で対応済み）
- **現状**: ✅ 解決済み

**R-2: JavaScript依存**  
- **リスク**: JavaScript無効環境での動作不可
- **対策**: 基本機能のサーバーサイド実装・graceful degradation
- **現状**: 🟡 部分対策済み・継続監視

#### 🟡 中リスク

**R-3: パフォーマンス劣化**
- **リスク**: ユーザー増加時のレスポンス悪化
- **対策**: DB最適化・キャッシュ導入・監視システム構築
- **現状**: ⏳ Phase 6で対策予定

**R-4: ブラウザ互換性**
- **リスク**: 新ブラウザ版数での動作問題
- **対策**: 継続的な互換性テスト・polyfill導入
- **現状**: 🔄 継続対応

#### 🟢 低リスク

**R-5: Laravel版数更新**
- **リスク**: フレームワーク更新による破綻的変更
- **対策**: LTS版数使用・段階的アップデート
- **現状**: 🟢 対策済み

### 5.2 プロジェクト・運用リスク

#### 🔴 高リスク

**R-6: 単一開発者依存**
- **リスク**: 開発者の問題によるプロジェクト停止
- **対策**: 包括的ドキュメント整備・AI支援による引き継ぎ性向上
- **現状**: 🔄 Phase 5で文書化進行中

#### 🟡 中リスク  

**R-7: ユーザー体験の品質**
- **リスク**: ユーザビリティ問題による離脱
- **対策**: Apple Design Guidelines準拠・ユーザビリティテスト実施
- **現状**: 🟡 基本対策済み・継続改善

**R-8: ゲームバランス**
- **リスク**: 難易度・報酬バランスの問題
- **対策**: データ分析による継続的バランス調整
- **現状**: ⏳ 運用開始後に対応

### 5.3 セキュリティリスク

#### 🔴 高リスク

**R-9: チート・改ざん対策**
- **リスク**: ゲームデータ改ざんによる不正行為
- **対策**: サーバーサイド検証・データ整合性チェック
- **現状**: 🟡 基本対策済み・継続強化

**R-10: 認証・認可**
- **リスク**: 不正アクセス・権限昇格
- **対策**: Laravel Breeze活用・厳密な権限管理
- **現状**: ✅ Laravel標準機能で対策済み

---

## 6. 成功条件・評価指標

### 6.1 技術的成功指標

#### Code Quality Metrics
- **テストカバレッジ**: 80%以上
- **静的解析スコア**: PHPStan Level 8 エラー0
- **パフォーマンス**: API応答時間 < 500ms
- **可用性**: 稼働率 99.5%以上

#### Documentation Metrics  
- **仕様書完成度**: 全19ドキュメント完成
- **API仕様書**: 全エンドポイント文書化
- **保守性**: 新規開発者の理解時間 < 4時間

### 6.2 ユーザー体験指標

#### Usability Metrics
- **学習時間**: 初回プレイ理解時間 < 10分
- **操作効率**: 主要機能到達クリック数 < 3回
- **エラー率**: ユーザー操作エラー < 5%
- **満足度**: ユーザビリティテストスコア > 4.0/5.0

#### Engagement Metrics（運用開始後）
- **セッション時間**: 平均20分以上
- **継続率**: 7日継続率 > 50%
- **機能利用率**: 全機能平均利用率 > 60%

### 6.3 プロジェクト管理指標

#### Development Efficiency
- **スプリント達成率**: 90%以上
- **バグ修正時間**: 平均24時間以内  
- **機能開発時間**: 要件→実装 2週間以内
- **AI支援効率**: 従来比開発時間 50%短縮

---

## 7. プロジェクト制約・前提条件

### 7.1 技術制約

#### 必須環境
- **PHP版数**: 8.2以上必須
- **Laravel版数**: 12.x系のLTS版数使用
- **JavaScript**: ES2020+対応ブラウザ
- **データベース**: SQLite(開発)/PostgreSQL(本番)

#### 開発環境制約
- **開発マシン**: VS Code + Claude Code必須
- **テスト環境**: PHPUnit + Laravel Testing
- **バージョン管理**: Git必須
- **CI/CD**: GitHub Actions推奨

### 7.2 リソース制約

#### 人的リソース
- **開発者**: 1名（AI支援あり）
- **テスター**: 開発者兼任
- **インフラ**: 開発者管理
- **デザイン**: 開発者＋Apple Guidelines準拠

#### 時間制約  
- **開発時間**: 週20-30時間
- **リリース**: 段階的リリース（MVP→機能追加）
- **メンテナンス**: 週次1-2時間
- **ドキュメント**: 実装と並行して作成

### 7.3 品質制約

#### 品質基準
- **コード品質**: PSR-12準拠・テスト可能性
- **セキュリティ**: Laravel標準準拠・脆弱性対策
- **パフォーマンス**: ページ表示2秒以内
- **アクセシビリティ**: WCAG 2.1 AA準拠

#### 保守性制約
- **ドキュメント**: 実装変更時の同期更新必須
- **テスト**: 新機能実装時のテスト作成必須
- **リファクタリング**: 定期的な技術的負債解消
- **監視**: エラー・パフォーマンス継続監視

---

## 8. コミュニケーション・意思決定

### 8.1 意思決定プロセス

#### 要件・仕様変更
1. **課題認識**: 現状分析・問題特定
2. **解決策検討**: 複数案比較・影響範囲分析  
3. **意思決定**: 開発者による最終判断
4. **実装**: AI支援による効率的実装
5. **検証**: テスト・レビューによる品質確認

#### 技術選択  
1. **調査**: 技術比較・メリット・デメリット分析
2. **検証**: PoC・プロトタイプによる実証
3. **決定**: 品質・効率・保守性による総合判断
4. **文書化**: 選択理由・影響範囲の記録

### 8.2 プロジェクト報告

#### 週次進捗報告
- **完了機能**: 実装完了した機能・品質状況
- **進行中作業**: 現在の作業・進捗率・課題
- **次週計画**: 予定作業・優先度・工数見積もり
- **リスク・課題**: 顕在化したリスク・対策状況

#### マイルストーン報告
- **成果物**: 完成した機能・ドキュメント・品質指標
- **スケジュール**: 計画対実績・遅延理由・リカバリー計画
- **品質**: テスト結果・コード品質・セキュリティ状況
- **次期計画**: 次のマイルストーンの計画・リスク対策

---

## 9. プロジェクト学習・改善

### 9.1 AI支援開発の知見

#### Claude Code活用成果
✅ **開発効率向上**: 従来の50%時間で高品質実装実現  
✅ **コード品質**: 設計原則に従った一貫性のあるコード  
✅ **ドキュメント品質**: 包括的で実用的な仕様書作成  
✅ **学習効果**: プロジェクト固有パターンの理解・適用  

#### 効果的な活用パターン
- **要件の明確化**: 詳細な要件・制約の事前整理
- **段階的実装**: 小さな単位での実装・検証サイクル
- **継続的レビュー**: 定期的なコード・設計レビュー
- **文書化**: 実装と同時進行での仕様書整備

### 9.2 技術的学習

#### Laravel開発ノウハウ
- **ドメイン駆動設計**: 責任分離・保守性向上の効果
- **Eloquent ORM**: 効率的なデータベース操作パターン
- **Blade活用**: コンポーネント化による再利用性向上
- **テスト戦略**: Feature/Unit/Browserテストの効果的使い分け

#### ゲーム開発特有知見
- **確率システム**: サイコロ・エンカウント等の実装パターン
- **状態管理**: ゲーム状態の永続化・整合性確保
- **UI/UX**: ゲーム特有のインタラクション実装
- **バランス調整**: データ分析による継続的改善

---

## 10. プロジェクト継続性・展望

### 10.1 長期ビジョン

#### 技術的進化
- **マイクロサービス化**: 機能別サービス分離
- **リアルタイム機能**: WebSocket・通知システム導入
- **AI活用**: ゲームバランス最適化・コンテンツ生成
- **クラウドネイティブ**: コンテナ化・オートスケール対応

#### 機能拡張ロードマップ
- **コンテンツ拡張**: 新エリア・モンスター・アイテム追加
- **ソーシャル機能**: ランキング・ギルド・チャット
- **イベントシステム**: 期間限定コンテンツ・チャレンジ
- **カスタマイズ**: キャラクター外見・UI テーマ選択

### 10.2 持続可能性

#### 保守・運用体制
- **監視システム**: エラー・パフォーマンス自動監視
- **バックアップ**: データ保護・災害復旧計画
- **セキュリティ**: 継続的な脆弱性対策・更新
- **コミュニティ**: ユーザーフィードバック収集・改善

#### 技術革新への対応
- **技術トレンド**: 新技術評価・段階的導入
- **フレームワーク更新**: Laravel・PHP版数継続対応
- **デザイントレンド**: UI/UXデザインの継続改善
- **セキュリティ**: 新脅威への継続対策

---

このInception Deckは、test_smgプロジェクトの開始時点での合意事項・方針を記録し、プロジェクト全体の方向性を明確化することを目的としています。プロジェクト進行に合わせて定期的にレビュー・更新を行い、最新の状況を反映します。

**作成日**: 2025年7月25日  
**次回レビュー**: Phase 6開始時（2025年8月1日予定）  
**承認**: プロジェクトオーナー